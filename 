[1mdiff --git a/recherche_motif/bin/recherche_motif b/recherche_motif/bin/recherche_motif[m
[1mindex b75636d..ed20298 100755[m
Binary files a/recherche_motif/bin/recherche_motif and b/recherche_motif/bin/recherche_motif differ
[1mdiff --git a/recherche_motif/fct/masque.c b/recherche_motif/fct/masque.c[m
[1mindex be6f075..514a0ea 100644[m
[1m--- a/recherche_motif/fct/masque.c[m
[1m+++ b/recherche_motif/fct/masque.c[m
[36m@@ -50,23 +50,3 @@[m [mint *generateurMasque(int l, int k){[m
 }[m
 [m
 //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////[m
[31m-[m
[31m-//Test du masque[m
[31m-[m
[31m-/*int main(){[m
[31m-	int *masque;[m
[31m-	int l,k;[m
[31m-	int i;[m
[31m-	l=10;[m
[31m-	k=4;[m
[31m-[m
[31m-	masque=generateurMasque(l,k);[m
[31m-[m
[31m-[m
[31m-	for (i=0;i<(l-k);i++)[m
[31m-		printf("masque[%d] = %d\n",i,masque[i]);[m
[31m-[m
[31m-[m
[31m-	free (masque);[m
[31m-	return 0;[m
[31m-}*/[m
\ No newline at end of file[m
[1mdiff --git a/recherche_motif/fct/motif.c b/recherche_motif/fct/motif.c[m
[1mindex 96a0a0a..a7189a3 100644[m
[1m--- a/recherche_motif/fct/motif.c[m
[1m+++ b/recherche_motif/fct/motif.c[m
[36m@@ -1,6 +1,6 @@[m
 #include "../lib/motif.h"[m
 [m
[31m- void recherche_motif (int *masque, int l, int k, double **pssm, char **tableauSequences, int nombreSequences, dictionnaire **p_p_dictionnaire, double *p_score, double *motifDeFond, char ***p_ensembleT, double ***p_motifConsensusPSSM, char **p_motifConsensus) {[m
[32m+[m[32m void recherche_motif (int *masque, int l, int k, double **pssm, char **tableauSequences, int nombreSequences, dictionnaire **p_p_dictionnaire, double *p_score, double *motifDeFond, char ***p_ensembleT, double ***p_motifConsensusPSSM, char **p_motifConsensus, int *p_scoreMasque) {[m
  [m
 	int i,j,m;[m
 	int nbSequenceDuMotif;[m
[36m@@ -185,6 +185,10 @@[m
 	affinerMotif(p_ensembleT, infoPssmCourante, tableauSequences, nombreOccurence, l, pssm, motifDeFond, nbSequenceDuMotifCandidat);[m
 	creerMotifConsensus(p_motifConsensusPSSM, p_motifConsensus, *p_ensembleT, l, nbSequenceDuMotifCandidat);[m
 [m
[32m+[m	[32m//Score du masque[m
[32m+[m
[32m+[m	[32m*p_scoreMasque = calculScoreMasque(k, l, *p_motifConsensus, *p_ensembleT, nbSequenceDuMotifCandidat);[m
[32m+[m
 	//free du dictionnaire[m
 	pk=(*p_p_dictionnaire)->firstK_mer;[m
 	while (pk != NULL)[m
[36m@@ -552,4 +556,34 @@[m [mvoid creerMotifConsensus(double ***p_motifConsensusPSSM, char **p_motifConsensus[m
 	}[m
 [m
 	printf("Motif consensus %s\n", p_motifConsensus[0]);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32mint calculScoreMasque(int k, int l, char *motifConsensus, char **ensembleT, int nbSequencesDuMotifCandidat){[m
[32m+[m
[32m+[m	[32mint i, j;[m
[32m+[m	[32mint nbDifferences;[m
[32m+[m	[32mint score;[m
[32m+[m
[32m+[m	[32mscore = 0;[m
[32m+[m
[32m+[m	[32mfor (i = 0; i < nbSequencesDuMotifCandidat; i++)[m
[32m+[m	[32m{[m
[32m+[m		[32mnbDifferences = 0;[m
[32m+[m
[32m+[m		[32mfor (j = 0; j < l; j++)[m
[32m+[m		[32m{[m
[32m+[m			[32mif (ensembleT[i][j] != motifConsensus[j])[m
[32m+[m			[32m{[m
[32m+[m				[32mnbDifferences += 1;[m
[32m+[m			[32m}[m
[32m+[m		[32m}[m
[32m+[m		[32mprintf("%d\n", nbDifferences);[m
[32m+[m		[32mif (nbDifferences > k)[m
[32m+[m		[32m{[m
[32m+[m			[32mscore += 1;[m
[32m+[m		[32m}[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mreturn score;[m
 }[m
\ No newline at end of file[m
[1mdiff --git a/recherche_motif/lib/motif.h b/recherche_motif/lib/motif.h[m
[1mindex 1a4ac30..5a21079 100644[m
[1m--- a/recherche_motif/lib/motif.h[m
[1m+++ b/recherche_motif/lib/motif.h[m
[36m@@ -7,7 +7,7 @@[m
 [m
 //recherche_motif[m
 [m
[31m-void recherche_motif (int *masque, int l, int k, double **pssm, char **tableauSequences, int nombreSequences, dictionnaire **p_p_dictionnaire, double *p_score, double *motifDeFond, char ***p_ensembleT, double ***p_motifConsensusPSSM, char **p_motifConsensus);[m
[32m+[m[32mvoid recherche_motif (int *masque, int l, int k, double **pssm, char **tableauSequences, int nombreSequences, dictionnaire **p_p_dictionnaire, double *p_score, double *motifDeFond, char ***p_ensembleT, double ***p_motifConsensusPSSM, char **p_motifConsensus, int *p_scoreMasque);[m
 [m
 double **construirePSSM(k_mer *k_merCandidat, char **tableauSequences, int nombreSequences, int k);[m
 [m
[36m@@ -20,4 +20,6 @@[m [mvoid ameliorerMotif(int **infoPssmCourante, double **pssmCourante, double *p_sco[m
 void affinerMotif(char ***p_ensembleT, int **infoPssmCourante, char **tableauSequences, int nombreOccurence, int l, double **pssm, double *motifDeFond, int nbSequenceDuMotifCandidat);[m
 [m
 void creerMotifConsensus(double ***p_motifConsensusPSSM, char **p_motifConsensus, char **ensembleT, int l, int nbSequenceDuMotifCandidat);[m
[32m+[m
[32m+[m[32mint calculScoreMasque(int k, int l, char *motifConsensus, char **ensembleT, int nbSequencesDuMotifCandidat);[m
 #endif[m
[1mdiff --git a/recherche_motif/obj/motif.o b/recherche_motif/obj/motif.o[m
[1mindex ef085a2..93fe35f 100644[m
Binary files a/recherche_motif/obj/motif.o and b/recherche_motif/obj/motif.o differ
[1mdiff --git a/recherche_motif/src/recherche_motif.c b/recherche_motif/src/recherche_motif.c[m
[1mindex 77e2443..aecfefa 100644[m
[1m--- a/recherche_motif/src/recherche_motif.c[m
[1m+++ b/recherche_motif/src/recherche_motif.c[m
[36m@@ -12,6 +12,7 @@[m [mint main(){[m
 	char **tableauSequences = NULL;[m
 	int nombreSequences, longueurSequencesMax;[m
 	double *motifDeFond;[m
[32m+[m	[32mint scoreMasque;[m
 [m
 	int *masque = NULL;	[m
 	int l,k;[m
[36m@@ -83,7 +84,9 @@[m [mint main(){[m
 [m
 	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////[m
 [m
[31m-		recherche_motif(masque, l, k, pssm, tableauSequences, nombreSequences, &p_dictionnaire, &score, motifDeFond, &ensembleT, &motifConsensusPSSM, &motifConsensus);		[m
[32m+[m		[32mrecherche_motif(masque, l, k, pssm, tableauSequences, nombreSequences, &p_dictionnaire, &score, motifDeFond, &ensembleT, &motifConsensusPSSM, &motifConsensus, &scoreMasque);[m[41m		[m
[32m+[m
[32m+[m		[32mprintf("Score du masque %d\n", scoreMasque);[m
 	}[m
 /////////////////////////////////////////////////////////////////////////////////////////////////////////////////[m
 [m
